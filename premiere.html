<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>1e — Choix de filière</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Computer+Modern+Serif&display=swap" rel="stylesheet">

<style>
html {
    font-size: 18px;
    min-height: calc(100dvh - 1em);
}
body {
    min-height: calc(100dvh - 1em);
    display: flex;
    flex-direction: column;
    padding: 0.8em;
    background-color: black;
    color: white;
    font-family: 'Computer Modern Serif', serif;
    line-height: 1.6;
}
main {
    min-height: 0;
    margin-top: -2em;
}
footer {
    text-align: center;
    font-size: 0.85em;
    margin-top: auto;
    margin-bottom: 0;
}
* { box-sizing: border-box; } /* footer en bas de la pge */
h1, h2, h3 {
    text-align: center;
    font-family: 'Computer Modern Serif', serif;
    margin-bottom: 0.2em;
}
h3 {
    font-weight: 300;
}
.retour-accueil {
    margin-top: 0;
    margin-bottom: 1rem;
}
.btn-retour {
    display: inline-block;
    padding: 0.3rem 0.5rem;
    border: 1px solid rgba(255,255,255,0.25);
    border-radius: 8px;
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-family: 'Computer Modern Serif', serif;
    transition: background-color 0.2s ease, border-color 0.2s ease, transform 0.2s ease;
}
.btn-retour:hover {
    border-color: rgba(255,255,255,0.5);
    background-color: rgba(255,255,255,0.08);
    transform: translateY(-1px);
}
.menu-niveaux {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
    margin-bottom: 0;
    max-width: 1100px;
}
@media (max-width: 700px) {
    .menu-niveaux {
    flex-direction: column;
    align-items: center;
    gap: 1rem;
    }
}
.bloc {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    width: clamp(250px, 30vw, 450px);
    height: clamp(150px, 18vw, 270px);
    margin: 1rem auto;
    border-radius: 10px;
    text-decoration: none;
    color: white;
    font-size: 1.4rem;
    font-weight: bold;
}
.bloc:hover { transform: translateY(-3px); }
.bloc video {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
}
.bloc video::-webkit-media-controls {
    display: none !important;
    -webkit-appearance: none;
}
.bloc video::-webkit-media-controls-enclosure {display: none !important;}
.bloc video::-webkit-media-controls-panel {display: none !important;}
.bloc h2 {
    position: relative;
    z-index: 1;
    margin: 0;
    text-align: center;
}
.bloc-premiere { border: 2px solid blue; }
.bloc-premiere:hover {
color: #5cbcff;
}
.bloc-premiere:hover h2 {
color: #486dff;
}
.bloc-premiere:hover video {
filter: brightness(0.6);
}
</style>
</head>

<body>
    <header>
        <h1>Première</h1>
        <nav class="retour-accueil" style="text-align: center;">
            <a href="index.html" class="btn-retour">Accueil</a>
        </nav>
    </header>
    
    <main>
    <nav class="menu-niveaux">
        <!-- STMG -->
        <a href="premiere-stmg.html" class="bloc bloc-premiere">
            <video src="media/divers/cube.mp4" autoplay muted loop playsinline></video>
            <h2>STMG</h2>
        </a>
        <!-- Spécialité -->
        <a href="premiere-spe.html" class="bloc bloc-premiere">
            <video src="media/divers/cube.mp4" autoplay muted loop playsinline></video>
            <h2>Spécialité</h2>
        </a>
    </nav>
    </main>

    <footer>
        <p>Aymé Petit &copy; ayme.petit@ac-creteil.fr</p>
    </footer>

<!-- SCRIPTS -->
<!-- MathJax -->
<script>
window.MathJax = {
    tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']],
    processEscapes: true,
    packages: ['base','ams']
    },
    loader: { load: ['[tex]/ams'] },
    svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-svg.js" defer></script>
<!-- Vidéos -->
<script>
(function () {
  function resumeAll(fromBFCache) {
    document.querySelectorAll('video[autoplay]').forEach(v => {
      v.muted = true;      // requis pour l’autoplay
      v.playsInline = true;

      const targetTime = fromBFCache && v.dataset.t ? parseFloat(v.dataset.t) : null;
      const tryPlay = () => v.play().catch(() => {});

      if (v.readyState < 2) { // pas encore de données décodées
        if (targetTime != null) {
          v.addEventListener('loadedmetadata', () => {
            try { v.currentTime = targetTime; } catch {}
          }, { once: true });
        }
        v.addEventListener('loadeddata', tryPlay, { once: true });
        v.load(); // “réveille” le décodage sur Safari après bfcache
      } else {
        if (targetTime != null) try { v.currentTime = targetTime; } catch {}
        if (v.paused) tryPlay();
      }
    });
  }

  // Au moment de quitter la page vers l’historique (bfcache)
  window.addEventListener('pagehide', e => {
    if (e.persisted) {
      document.querySelectorAll('video[autoplay]').forEach(v => {
        v.dataset.t = v.currentTime || 0;
      });
    }
  });

  // Au retour depuis l’historique
  window.addEventListener('pageshow', e => {
    resumeAll(e.persisted === true);
  });

  // Filet de sécurité quand l’onglet redevient visible
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden) resumeAll(false);
  });
})();
</script>
</body>
</html>

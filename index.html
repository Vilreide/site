<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<title>Site M.Petit</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Computer+Modern+Serif&display=swap" rel="stylesheet">

<style>
html {
    font-size: 18px;
    min-height: calc(100vh - 1em);
    box-sizing: border-box;
}
*, *::before, *::after {
    box-sizing: inherit;
}
body {
    min-height: calc(100vh - 1em);
    display: flex;
    flex-direction: column;
    padding: 2em;
    background-color: black;
    color: white;
    font-family: 'Computer Modern Serif', serif;
    line-height: 1.6;
}

@media (max-width: 700px) {
    body {
    padding: 0.1em;
    }
}
@media (max-width : 700px) {
    header h3 {
        margin-bottom: -1.5em;
    }
}
main {
    min-height: 0;
}
footer {
    text-align: center;
    font-size: 0.85em;
    margin-top: auto;
    margin-bottom: 0em;
}
* { box-sizing: border-box; } /* footer en bas de la pge */
h1, h2, h3 {
    text-align: center;
    font-family: 'Computer Modern Serif', serif;
}
h3 {
    font-weight: 300;
}
.menu-niveaux {
    display: flex;
    gap: 1.5rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-top: 2rem;
    margin-bottom: 0;
    margin-left: auto;
    margin-right: auto;
    max-width: calc(3 * 450px + 2 * 8rem);
}
@media (max-width: 700px) {
    .menu-niveaux {
    flex-direction: column;
    align-items: center;
    gap: 0;
    }
}
.bloc {
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
    width: clamp(220px, 30vw, 450px);
    height: clamp(132px, 18vw, 270px);
    margin: 1rem auto;
    border-radius: 10px;
    text-decoration: none;
    color: white;
    font-size: 1.4rem;
    font-weight: bold;
}
@media (max-width: 700px) {
    .bloc {
        margin: 0.5rem auto
    }
}
.bloc video {
    position: absolute;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0;
}
.bloc video::-webkit-media-controls {
    display: none !important;
    -webkit-appearance: none;
}
.bloc video::-webkit-media-controls-enclosure {display: none !important;}
.bloc video::-webkit-media-controls-panel {display: none !important;}
.bloc h2 {
    position: relative;
    z-index: 1;
    margin: 0;
    text-align: center;
}

/* Couleurs bordures */
.bloc-seconde { border: 2px solid red; }
.bloc-premiere { border: 2px solid blue; }
.bloc-terminale { border: 2px solid orange; }
/* Bloc Seconde : rouge au survol */
.bloc-seconde:hover {
    color: #ff5c5c;
}
.bloc-seconde:hover h2 {
    color: #ff5c5c;
}
.bloc-seconde:hover video {
    filter: brightness(0.6);
}
.bloc-premiere:hover {
    color: #5cbcff;
}
.bloc-premiere:hover h2 {
    color: #486dff;
}
.bloc-premiere:hover video {
    filter: brightness(0.6);
}
.bloc-terminale:hover {
    color: #ffb65c;
}
.bloc-terminale:hover h2 {
    color: #e7ff0f;
}
.bloc-terminale:hover video {
    filter: brightness(0.6);
}
</style>
</head>


<body>
    <header>
        <h1 style="margin-bottom: -0.8em;">Aymé Petit</h1>
        <h3>Lycée Marcelin Berthelot</h3>
    </header>

    <main>
        <nav class="menu-niveaux">
            <!-- Seconde -->
            <a href="seconde.html" class="bloc bloc-seconde">
                <video src="media/divers/tetraedre.mp4" autoplay muted loop playsinline></video>
                <h2 style="text-shadow: 5px 5px 15px rgba(0, 0, 0, 0.945);">Seconde</h2>
            </a>
            <!-- Première -->
            <a href="premiere.html" class="bloc bloc-premiere">
                <video src="media/divers/cube.mp4" autoplay muted loop playsinline></video>
                <h2 style="text-shadow: 5px 5px 15px rgba(0, 0, 0, 0.945);">Première</h2>
            </a>
            <!-- Terminale -->
            <a href="terminale.html" class="bloc bloc-terminale">
                <video src="media/divers/icosaedre.mp4" autoplay muted loop playsinline></video>
                <h2 style="text-shadow: 5px 5px 15px rgba(0, 0, 0, 0.945);">Terminale</h2>
            </a>
        </nav>
    </main>


    <footer>
        <p>Aymé Petit &copy; ayme.petit@ac-creteil.fr</p>
    </footer>


<!-- SCRIPTS -->
<!-- MathJax -->
<script>
window.MathJax = {
    tex: {
    inlineMath: [['\\(', '\\)'], ['$', '$']],
    displayMath: [['\\[', '\\]']],
    processEscapes: true,
    packages: ['base','ams']
    },
    loader: { load: ['[tex]/ams'] },
    svg: { fontCache: 'global' }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-svg.js" defer></script>
<!-- Vidéos -->
<script>
(function () {
  function resumeAll(fromBFCache) {
    document.querySelectorAll('video[autoplay]').forEach(v => {
      v.muted = true;      // requis pour l’autoplay
      v.playsInline = true;

      const targetTime = fromBFCache && v.dataset.t ? parseFloat(v.dataset.t) : null;
      const tryPlay = () => v.play().catch(() => {});

      if (v.readyState < 2) { // pas encore de données décodées
        if (targetTime != null) {
          v.addEventListener('loadedmetadata', () => {
            try { v.currentTime = targetTime; } catch {}
          }, { once: true });
        }
        v.addEventListener('loadeddata', tryPlay, { once: true });
        v.load(); // “réveille” le décodage sur Safari après bfcache
      } else {
        if (targetTime != null) try { v.currentTime = targetTime; } catch {}
        if (v.paused) tryPlay();
      }
    });
  }

  // Au moment de quitter la page vers l’historique (bfcache)
  window.addEventListener('pagehide', e => {
    if (e.persisted) {
      document.querySelectorAll('video[autoplay]').forEach(v => {
        v.dataset.t = v.currentTime || 0;
      });
    }
  });

  // Au retour depuis l’historique
  window.addEventListener('pageshow', e => {
    resumeAll(e.persisted === true);
  });

  // Filet de sécurité quand l’onglet redevient visible
  document.addEventListener('visibilitychange', () => {
    if (!document.hidden) resumeAll(false);
  });
})();
</script>

</body>
</html>
